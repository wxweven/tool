# JSON格式化工具使用文档

## 工具概述

JSON格式化工具是一个功能强大的在线JSON数据处理工具，支持JSON验证、格式化、可视化展示等多种功能。工具提供直观的树状结构展示，让复杂的JSON数据变得清晰易读。

## 主要功能

### 🎯 核心功能
- **JSON验证**: 自动检测JSON格式错误并提供详细错误信息
- **智能格式化**: 将压缩的JSON转换为易读的格式化结构
- **树状可视化**: 以可展开/收起的树状结构展示JSON数据
- **语法高亮**: 不同数据类型使用不同颜色显示，提升可读性

### ✨ 交互功能
- **展开/收起**: 单击 `+/-` 按钮控制节点的展开状态
- **批量操作**: 一键展开或收起所有节点
- **快速复制**: 一键复制格式化后的JSON文本
- **实时处理**: 支持自动格式化和手动格式化两种模式

## 界面布局

```
┌─────────────────────────────────────────────────────────┐
│ JSON格式化工具                                            │
├─────────────┬───────────────────────────────────────────┤
│ 输入区域(1) │ 输出区域(2)                              │
│            │ ┌─格式化结果─────┬─全部展开─┬─全部收起─┬─复制─┐ │
│ JSON输入   │ │               │        │        │     │ │
│ 框         │ │ 树状结构展示   │        │        │     │ │
│            │ │               │        │        │     │ │
│ 按钮区域   │ │               │        │        │     │ │
├─────────────┴───────────────────────────────────────────┤
│ [手动格式化] [清空] [简单示例] [复杂示例] ☑自动格式化      │
└─────────────────────────────────────────────────────────┘
```

## 详细使用指南

### 1. 输入JSON数据

#### 方式一：直接输入
1. 在左侧输入框中粘贴或输入JSON数据
2. 支持压缩格式的JSON（如：`{"name":"John","age":30}`）
3. 也支持已格式化的JSON

#### 方式二：使用示例数据
- **简单示例**: 点击"简单示例"按钮加载基础JSON结构
- **复杂示例**: 点击"复杂示例"按钮加载多层嵌套的JSON结构

### 2. 格式化模式

#### 自动格式化（推荐）
- 默认开启，输入后自动处理
- 实时验证JSON格式
- 500ms防抖延迟，避免频繁处理

#### 手动格式化
- 取消勾选"自动格式化"
- 输入完成后点击"手动格式化"按钮
- 适合处理大型JSON文件

### 3. 树状结构操作

#### 展开/收起节点
- 点击节点前的 `+` 按钮展开该节点
- 点击节点前的 `-` 按钮收起该节点
- 收起时显示子项数量提示（如：`3 keys...`、`5 items...`）

#### 批量操作
- **全部展开**: 点击右上角"全部展开"按钮，展开所有节点
- **全部收起**: 点击右上角"全部收起"按钮，收起所有节点

### 4. 语法高亮说明

| 数据类型 | 颜色 | 示例 |
|---------|------|------|
| 字符串 | 绿色 | `"hello world"` |
| 数字 | 蓝色 | `123`, `45.67` |
| 布尔值 | 紫色 | `true`, `false` |
| null值 | 灰色 | `null` |
| 键名 | 深蓝色 | `"name":` |
| 括号 | 深灰色 | `{`, `}`, `[`, `]` |

### 5. 复制功能

1. 点击右上角"复制"按钮
2. 系统自动复制格式化后的JSON文本到剪贴板
3. 显示"✓ 已复制到剪贴板!"确认提示
4. 复制的内容为标准2空格缩进的JSON格式

### 6. 错误处理

#### 常见错误类型
- **语法错误**: 缺少引号、括号不匹配等
- **格式错误**: 多余的逗号、非法字符等
- **编码错误**: 特殊字符编码问题

#### 错误显示
- 错误信息显示在输入框下方
- 红色文字提示具体错误位置和类型
- 根据提示修正JSON格式

## 高级技巧

### 1. 处理大型JSON文件
- 关闭自动格式化，使用手动模式
- 优先收起不关心的节点，提升性能
- 利用浏览器搜索功能快速定位内容

### 2. 数据结构分析
- 通过展开/收起快速了解JSON结构层次
- 观察节点计数了解数据规模
- 利用语法高亮快速识别数据类型

### 3. 开发调试
- 复制格式化结果到代码编辑器
- 验证API响应数据格式
- 检查配置文件语法正确性

## 快捷操作

| 操作 | 方法 | 说明 |
|------|------|------|
| 快速格式化 | 启用自动格式化 | 输入即格式化 |
| 清空内容 | 点击"清空"按钮 | 同时清空输入和输出 |
| 加载示例 | 点击示例按钮 | 快速测试工具功能 |
| 全部展开 | Ctrl+点击"全部展开" | 快速查看完整结构 |
| 批量收起 | Ctrl+点击"全部收起" | 简化视图层次 |

## 注意事项

### ✅ 支持的JSON特性
- 标准JSON格式（RFC 7159）
- Unicode字符编码
- 嵌套对象和数组
- 科学计数法数字

### ❌ 不支持的特性
- JSON5扩展语法（如注释）
- JavaScript对象字面量
- 函数和undefined值
- 循环引用结构

### 💡 使用建议
1. **大文件处理**: 超过1MB的JSON建议分段处理
2. **性能优化**: 处理完成后适当收起不需要的节点
3. **格式标准**: 复制的结果符合标准2空格缩进格式
4. **错误排查**: 根据错误提示逐行检查JSON语法

## 常见问题解答

### Q: 为什么我的JSON无法格式化？
A: 请检查JSON语法是否正确，常见问题包括：
- 字符串未用双引号包围
- 对象键名未用双引号
- 数组或对象末尾多余的逗号
- 括号不匹配

### Q: 如何处理含有特殊字符的JSON？
A: 工具支持Unicode字符，特殊字符需要正确转义：
- 换行符：`\n`
- 制表符：`\t`
- 反斜杠：`\\`
- 双引号：`\"`

### Q: 复制的格式为什么和显示的不一样？
A: 显示使用树状结构，复制使用标准JSON格式。复制结果为2空格缩进的标准JSON文本，可直接用于代码开发。

### Q: 工具支持的最大JSON文件大小？
A: 建议单次处理小于5MB的JSON文件。超大文件可能影响浏览器性能，建议分段处理或使用专业工具。

---

**版本**: v1.0
**更新时间**: 2024年12月
**技术支持**: 如有问题请通过反馈按钮提交